<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise</title>
  </head>
  <body>
    <pre>
        13、Promise
        概述：
        Promise 是 ES6 引入的异步编程的新解决方案。语法上 Promise 是一个构造函数，用来封装异步操作并可以获取其成功或失败的结果；
        1.	Promise 构造函数: Promise (excutor) {}；
        2.	Promise.prototype.then 方法；
        3.	Promise.prototype.catch 方法；
        
        基本使用：
        // 实例化 Promise 对象
        // Promise 对象三种状态：初始化、成功、失败
        const p = new Promise(function (resolve, reject) {
          setTimeout(function () {
            // 成功
            // let data = "数据";
            // 调用resolve，这个Promise 对象的状态就会变成成功
            // resolve(data);
            // 失败
            let err = "失败了！";
            reject(err);
          }, 1000);
        });
        // 成功
        // 调用 Promise 对象的then方法，两个参数为函数
        p.then(
          function (value) {
            // 成功
            console.log(value);
          },
          function (season) {
            // 失败
            console.log(season);
          }
        );        
    </pre>
  </body>
  <script>
    // 实例化 Promise 对象
    // Promise 对象三种状态：初始化、成功、失败
    const p = new Promise(function (resolve, reject) {
      setTimeout(function () {
        // 成功
        // let data = "数据";
        // 调用resolve，这个Promise 对象的状态就会变成成功
        // resolve(data);
        // 失败
        let err = "失败了！";
        reject(err);
      }, 1000);
    });
    // 成功
    // 调用 Promise 对象的then方法，两个参数为函数
    p.then(
      function (value) {
        // 成功
        console.log(value);
      },
      function (season) {
        // 失败
        console.log(season);
      }
    );
  </script>
</html>
